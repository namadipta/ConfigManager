<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="scenarioDetails">

    <div class="row" th:if="${scenarioDetails}">
    <form id="updateScenarioDetails"  method="Post" th:object="${scenarioDetails}">
                             <button type = "submit" id="saveScenario" style="display:none;" class="btn btn-primary btn-md m-b-10 m-l-5">Save</button>
    
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <div class="sweetalert m-t-15">
                        <img class="pull-left m-r-10 avatar-img" style="width: 60px; top: -10px;" src="images/scenarios.jpg" alt="">
                        <span onclick="javascript:window.location.reload(true)" name="scenarioId" id="scenarioId" style="cursor: pointer;color: #03a9f4;font-size: 23px;" class="hidden-xs-down scenario-id" th:text="*{scenarioId}"></span>
                         <table class="table borderless" id="scenarioToolBox" style="display: inline;margin-left: 50px;" th:if="${scenarioDetails.lockStatus == null }">
                                                                <tr>
                                                                    <td>
                                                                        <div class="icon-section">
                                                                            <div class="icon-container"><span class="ti-pencil scenarioEdit" ></span><span class="icon-name"></span></div>
                                                                        </div>
                                                                         <div class="icon-container" id="scenarioSave" style="display : none;">
                         												    <span class="ti-save scenarioSave"></span><span class="icon-name"></span>
                       													 </div>
                                                                           <div class="icon-container">
                                                                           	 <span class="ti-files scenarioClone" ></span><span class="icon-name"> </span>
                                                                           </div>
																	   	  <div class="icon-container" >
                         												  	<span class="ti-trash scenarioDelete" ></span><span class="icon-name"></span>
                       													 </div>
                       													 
                       													 <div class="icon-container"  th:if="${session.login.userRole != null && session.login.userRole == 'ADMIN'}">
                         												  	<span class="ti-lock scenarioLock" ></span><span class="icon-name"></span>
                       													 </div>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                             <table class="table borderless" id="scenarioToolBox" style="display: inline;margin-left: 50px;" th:if="${scenarioDetails.lockStatus != null && scenarioDetails.lockStatus.status == 'locked'}">
                                                                <tr>
                                                                    <td>
                                                                     	<div class="icon-container">
                                                                           	 <span class="ti-files scenarioClone" ></span><span class="icon-name"> </span>
                                                                        </div>
                       													 <div class="icon-container"  th:if="${session.login.userRole != null && session.login.userRole == 'ADMIN'}">
                         												  	<span class="ti-unlock scenarioUnLock"></span><span class="icon-name"></span>
                       													 </div>
                                                                    </td>
                                                                </tr>
                                                            </table>
                    </div>

                    <table class="table" id="scenarioTable">
                        <tr>
                            <td class="w-15" ><span class="scenario-details">Ship
									Method : </span></td>
                            <td class="w-20">
                                 <select class="form-control" name="shpMthd"  th:field="*{shpMthd}" disabled required>
                                        <option  value="" > --select-- </option>
										<option th:each="dropDownItem : ${listOfShpMthd}"  th:value="${dropDownItem.id}" th:text="${dropDownItem.value}" />
								</select>
                            </td>

                            <td class="w-10"><span class="scenario-details">ER
									Req Flag : </span></td>
                            <td class="w-20">
                                <input type="text" class="form-control input-sm" name="erReqFlag"  th:value="*{erReqFlag}" disabled required/>
                            </td>

                            <td class="w-10" ><span class="scenario-details">Status : </span></td>
                            <td class="w-20">
                                  <select class="form-control" name="status"  th:field="*{status}" disabled required>
                                        <option  value="" > --select-- </option>
										<option th:each="dropDownItem : ${listOfStatus}"  th:value="${dropDownItem.id}" th:text="${dropDownItem.value}" />
								</select>
                            </td>
                        </tr>
                        <tr>
                            <td class="w-10"><span class="scenario-details">Category
									: </span></td>
                            <td class="w-20">
                                <select class="form-control" name="category"  th:field="*{category}" disabled required>
                                        <option  value="" > --select-- </option>
										<option th:each="dropDownItem : ${listOfCategory}"  th:value="${dropDownItem.id}" th:text="${dropDownItem.value}" />
								</select>
                                
                            </td>

                            <td class="w-15"><span class="scenario-details">Sub
									Category : </span></td>
                            <td class="w-20">
                                <select class="form-control" name="subCategory"  th:field="*{subCategory}" disabled required>
                                        <option  value="" > --select-- </option>
										<option th:each="dropDownItem : ${listOfSubCategory}"  th:value="${dropDownItem.id}" th:text="${dropDownItem.value}" />
								</select>
                            </td>

                            <td class="w-10"><span class="scenario-details">Input
									Desc : </span></td>
                            <td class="w-20">
                                <input type="text" class="form-control input-sm" name="inputDesc"  th:value="*{inputDesc}" disabled required/>
                            </td>
                         </tr>
                          <tr>
                            <td class="w-10"><span class="scenario-details">Scenario Category Name
									: </span></td>
                            <td class="w-20">
                                <select class="form-control" name="scenarioCategoryName"  th:field="*{scenarioCategoryName}" disabled >
                                        <option  value="" > --select-- </option>
										<option th:each="dropDownItem : ${listOfScenarioCategoryName}"  th:value="${dropDownItem.id}" th:text="${dropDownItem.value}" />
								</select>
                            </td>

                            <td class="w-15"><span class="scenario-details">Print Scenario Id : </span></td>
                            <td class="w-20">
                                <input type="text" class="form-control input-sm" name="printScenarioId" th:value="*{printScenarioId}" disabled />
                            </td>

                            <td class="w-10"><span class="scenario-details">Ex Status : </span></td>
                            <td class="w-20">
                                 <select class="form-control" name="exStatus"  th:field="*{exStatus}" disabled>
                                        <option  value="" > --select-- </option>
										<option th:each="dropDownItem : ${listOfExStatus}"  th:value="${dropDownItem.id}" th:text="${dropDownItem.value}" />
								</select>
                            </td>
                         </tr>
                          <tr>
                            <td class="w-10"><span class="scenario-details">Reporting Flag
									: </span></td>
                            <td class="w-20">
                            	<select class="form-control" name="reportingFlag"  th:field="*{reportingFlag}"  disabled>
                                        <option  value="" > --select-- </option>
										<option th:each="dropDownItem : ${listOfReportingFlag}"  th:value="${dropDownItem.id}" th:text="${dropDownItem.value}" />
								</select>
                            </td>

                            <td class="w-15"><span class="scenario-details">Release Number : </span></td>
                            <td class="w-20">
                                 <select class="form-control" name="releaseNumber"  th:field="*{releaseNumber}" disabled required>
                                        <option  value="" > --select-- </option>
										<option th:each="dropDownItem : ${listOfReleaseNumbers}"  th:value="${dropDownItem.id}" th:text="${dropDownItem.value}" />
								</select>
                            </td>

                             <td class="w-10"><span class="scenario-details">Initiative Id : </span></td>
                            <td class="w-20">
                                <input type="text" class="form-control input-sm" name="initiativeId"  th:value="*{initiativeId}" disabled required/>
                            </td>
                         </tr>
                          <tr>
                            <td class="w-10"><span class="scenario-details">Green Flag
									: </span></td>
                            <td class="w-20">
                                 <select class="form-control" name="greenFlag"  th:field="*{greenFlag}" disabled required>
                                        <option  value="" > --select-- </option>
										<option th:each="dropDownItem : ${listOfGreenFlag}"  th:value="${dropDownItem.id}" th:text="${dropDownItem.value}" />
								</select>
                            </td>

                            <td class="w-15"><span class="scenario-details">Dom Int Flag : </span></td>
                            <td class="w-20">
                           	    <select class="form-control" name="domIntFlag"  th:field="*{domIntFlag}" disabled>
                                        <option  value="" > --select-- </option>
										<option th:each="dropDownItem : ${listOfDomIntFlag}"  th:value="${dropDownItem.id}" th:text="${dropDownItem.value}" />
								</select>
                            </td>

                         </tr>
                         
                         
                            <tr>
                                <td class="w-10"><span class="scenario-details">Scenario
									Desc : </span></td>
                                <td colspan="5">
                                    <textarea class="form-control input-sm" name="scenarioDesc"  th:text="${scenarioDetails.scenarioDesc}" disabled required></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td class="w-10"><span class="scenario-details">Comment
									Desc : </span></td>
                                <td colspan="5">
                                    <textarea class="form-control input-sm" name="commentDesc"  th:text="${scenarioDetails.commentDesc}" disabled></textarea>
                                </td>
                            </tr>

                    </table>
                    <div class="card">
                        <div class="card-body">
                        
                            <div id="shipmentDetails">
                                <h4 class="card-title" style="padding-bottom: 18px;">Shipment Details</h4>
                                <!-- Nav tabs -->
                                                             <button type = "submit" id="saveShipmentDetails" style="display:none;" class="btn btn-primary btn-md m-b-10 m-l-5">Save</button>
                                <div class="vtabs">
                                    <ul class="nav nav-tabs tabs-vertical" role="tablist">

                                        <li th:each="shipmentData :  *{shipmentDTO}" class="nav-item"> <a class="nav-link active" data-toggle="tab" th:href="@{'#' + ${shipmentData.shipmentId}}" role="tab"><span class="hidden-sm-up"><i class="ti-home"></i></span> <span class="hidden-xs-down" th:text = "${shipmentData.shipmentId}"></span> </a> </li>

                                    </ul>
                                    <!-- Tab panes -->
                                     
                                    <div class="tab-content">

                                        <div class="tab-pane" th:each="shipmentData :  *{shipmentDTO}" th:id="${shipmentData.shipmentId}" role="tabpanel">
                                         <table class="table borderless" id="shipmentToolBox" th:if="${scenarioDetails.lockStatus == null }">
                                                                <tr>
                                                                    <td>
                                                                        <div class="icon-section">
                                                                            <div class="icon-container"><span class="ti-pencil shipmentEdit" ></span><span class="icon-name"></span></div>
                                                                        </div>
                                                                        <div class="icon-container" id="shipmentSave" style="display : none;">
                         												    <span class="ti-save shipmentSave"></span><span class="icon-name"></span>
                       													 </div>
                                                                           <div class="icon-container"> <span class="ti-files shipmentClone" ></span><span class="icon-name"> </span></div>
																	   	  <div class="icon-container" >
                         												  	<span class="ti-trash shipmentDelete" ></span><span class="icon-name"></span>
                       													 </div>
                       													  <div class="icon-container" >
                         												  	<span class="ti-plus shipmentAdd" ></span><span class="icon-name"></span>
                       													 </div>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                            <table class="table">
                                                <tr>
                                                    <td class="w-18" ><span class="scenario-details">Shipment ID : </span></td>
                                                    <td class="w-20">
                                                        <input type=text class="form-control input-sm shipment" name="shipmentId" id="shipmentId" th:value="${shipmentData.shipmentId}" disabled required/>
                                                    </td>

                                                    <td class="w-18"><span class="scenario-details">Shipping Seq Number : </span></td>
                                                    <td class="w-20">
                                                        <input type="text" class="form-control input-sm shipment" name="shippingSeqNumber"  th:value="${shipmentData.shippingSeqNumber}" disabled required/>
                                                    </td>

                                                    <td class="w-15" style="text-align: center;"><span class="scenario-details">Status Name : </span></td>
                                                    <td class="w-20">
<!--                                                           <input type="hidden" class="form-control input-sm shipment statusName" name="statusName" />
 -->                                                          <select class="form-control input-sm " name="statusName"   disabled required>
                                                         		 <option  value="" > --select-- </option>
																<option th:each="dropDownItem : ${listOfStatusName}"  th:value="${dropDownItem.id}" th:text="${dropDownItem.value}" th:selected="${dropDownItem.value} == ${shipmentData.statusName}" />
								 						  </select>
                                                         
                                                    </td>
                                                    
                                                </tr>

                                                <tr>
                                               		<td class="w-10"><span class="scenario-details">Test I/P Number : </span></td>
                                                    <td class="w-20">
                                                        <input  type="text"  class="form-control input-sm shipment" name="testInputNumber"  th:value="${shipmentData.testInputNumber}" disabled required/>
                                                    </td>
                                                    <td class="w-10"><span class="scenario-details">Shipment Desc :</span></td>
                                                    <td colspan="3">
                                                        <textarea class="form-control input-sm shipment" name="shipmentDesc"  th:text="${shipmentData.shipmentDesc}" disabled ></textarea>
                                                    </td>
                                                </tr>
                                            </table>

                                            <div class="row" id="event-tab">
                                                <div class="col-lg-12">
                                                    <div class="card">

                                                        <div class="card-body">
                                                            <table class="table eventToolBox" id="eventToolBox" th:if="${scenarioDetails.lockStatus == null}">
                                                                <tr>
                                                                    <td>
                                                                        <div class="icon-section">
                                                                            <div class="icon-container"><span class="ti-pencil eventEdit" ></span><span class="icon-name"></span></div>
                                                                        </div>
                                                                           <div class="icon-container"> <span class="ti-files eventClone" ></span><span class="icon-name"> </span></div>
																	   	  <div class="icon-container" >
                         												  	<span class="ti-trash eventDelete" ></span><span class="icon-name"></span>
                       													 </div>
                       													 <div class="icon-container" >
                         												  	<span class="ti-plus eventAdd" ></span><span class="icon-name"></span>
                         												  	 <input type="hidden" class="addEventInfo" name="addEventInfo" th:value="${shipmentData.scenarioId} + '###' + ${shipmentData.shipmentId} " />
                       													 </div>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                            <table class="table eventtable table-bordered" th:id=" 'row-select' + ${shipmentData.shipmentId}" style="cursor : pointer">
                                                                <thead>
                                                                    <tr>
                                                                       <!--  <th style="border-top: 1px solid #dddddd;">Event ID</th> -->
                                                                        <th style="border-top: 1px solid #dddddd;">Event Desc</th>
                                                                        <th style="border-top: 1px solid #dddddd;">Input Desc</th>
                                                                        <th style="border-top: 1px solid #dddddd;">Event Comment Desc</th>
                                                                        <th style="border-top: 1px solid #dddddd;">Shipment Status Name</th>

                                                                    </tr>
                                                                </thead>
                                                                <tbody>

                                                                    <tr th:each="eventDetails :  ${shipmentData.eventDetails}">

                                                                        <input type="hidden" name="eventId" th:value=" ${eventDetails.scenarioId} + '###' + ${eventDetails.shipmentId} + '###'+ ${eventDetails.eventId}" />
                                                                        <!-- <td th:text="${eventDetails.eventId}" /> -->
                                                                        <td th:text="${eventDetails.eventDesc}" />
                                                                        <td th:text="${eventDetails.inputDesc}" />
                                                                        <td th:text="${eventDetails.eventCommentDesc}" />
                                                                        <td th:text="${eventDetails.shipmentStatusName}" />

                                                                    </tr>

                                                                </tbody>
                                                            </table>
                                                            <a href="#myModal" class="btn btn-lg btn-primary" id=myAnchor style="display : none" data-toggle="modal">Launch Demo Modal</a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- /# column -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </form>
    </div>
     <form id="newShipmentRequest" th:object="${scenarioDetails}"  method="GET" th:action="@{/addNewShipment}"> 
      <input type="hidden" class="form-control input-sm scenarioId" name="scenarioId" id="scenarioId"   th:value="${scenarioDetails.scenarioId}"  /> 
	</form>
</div>

</html>